(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},78:function(e,t,a){e.exports=a(93)},83:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(55),s=a.n(i),l=(a(83),a(23),a(56)),o=a.n(l),m=a(105),d=a(58),c=a.n(d);var h=class extends n.Component{constructor(e){super(e),this.itemFlagFormatter=((e,t)=>{for(let a=0;a<t.length;a++){if(e.toLowerCase()===t[a].toLowerCase())return r.a.createElement("div",{style:{backgroundColor:"lightblue",borderColor:"red",borderStyle:"solid"}},e);if(e.toLowerCase().includes(t[a].toLowerCase()))return r.a.createElement("div",{style:{backgroundColor:"yellow",borderColor:"orange",borderStyle:"solid"}},e)}return r.a.createElement("div",null,e)}),this.convertStringToArray=(e=>{var t=e.replaceAll("."," ").split(","),a=[];for(let n=0;n<t.length;n++)a.push(t[n].trim());return a}),this.handleLeftInputName=(e=>{this.setState({leftInputName:e.target.value})}),this.handleRightInputName=(e=>{this.setState({rightInputName:e.target.value})}),this.handleLeftInput=(e=>{this.setState({leftInputString:e.target.value})}),this.handleRightInput=(e=>{this.setState({rightInputString:e.target.value})}),this.state={leftInputString:"",leftInputArray:[],rightInputString:"",rightInputArray:[],leftInputName:"Item A",rightInputName:"Item B"}}componentDidMount(){}render(){for(var e=this.state.leftInputArray,t=this.state.rightInputArray,a=[],n=0;n<e.length;n++){a[n]=-1;for(var i=0;i<t.length;i++)e[n].toLowerCase()===t[i].toLowerCase()&&(a[n]=i)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"input-split"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{id:"itemMatch-left-name",placeholder:"item name",onChange:this.handleLeftInputName})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("textarea",{id:"itemMatch-left",placeholder:"paste the list of ingredients here",onChange:this.handleLeftInput}))),r.a.createElement("div",{className:"input-split"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{id:"itemMatch-right-name",placeholder:"item name",onChange:this.handleRightInputName})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("textarea",{id:"itemMatch-right",placeholder:"paste the list of ingredients here",onChange:this.handleRightInput}))),r.a.createElement(m.a,{variant:"contained",disableElevation:!0,startIcon:r.a.createElement(c.a,null),className:"compute-button",onClick:()=>{""!==this.state.leftInputString&&this.state.rightInputString?this.setState({leftInputArray:this.convertStringToArray(this.state.leftInputString),rightInputArray:this.convertStringToArray(this.state.rightInputString)}):alert("Remember to input 2 ingredients lists")}},"Match product ingredients"),r.a.createElement("div",{className:"result"},r.a.createElement("div",{className:"ingredients-matching",id:"left"},a.length>0&&r.a.createElement("h2",null,this.state.leftInputName),e.map((e,t)=>r.a.createElement("div",{className:"ingredients",id:"left"+t},e))),r.a.createElement("div",{className:"ingredients-matching",id:"canvas"},a.map((e,t)=>-1!==e?r.a.createElement(o.a,{start:"left"+t,end:"right"+e,curveness:"0",color:"cornflowerblue",strokeWidth:"2",showHead:!1,headSize:"0"}):null)),r.a.createElement("div",{className:"ingredients-matching",id:"right"},a.length>0&&r.a.createElement("h2",null,this.state.rightInputName),t.map((e,t)=>r.a.createElement("div",{className:"ingredients",id:"right"+t},e))))))}};var p=class extends n.Component{constructor(e){super(e),this.state={}}render(){var e=0,t=0,a=0;for(let n=0;n<this.props.inputArray.length;n++){for(let t=0;t<this.props.wantedItemsArray.length;t++)this.props.inputArray[n].toLowerCase()===this.props.wantedItemsArray[t].toLowerCase()&&e++;for(let e=0;e<this.props.flaggedItemsArray.length;e++)this.props.inputArray[n].toLowerCase()===this.props.flaggedItemsArray[e].toLowerCase()?t++:this.props.inputArray[n].toLowerCase().includes(this.props.flaggedItemsArray[e].toLowerCase())&&a++}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"summary"},0!==this.props.inputArray.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"summary-stats",id:"stats-input"},r.a.createElement("h3",null,"Total ingredients"),r.a.createElement("h2",null,this.props.inputArray.length)),r.a.createElement("div",{className:"summary-stats wanted",id:"stats-wanted"},r.a.createElement("h3",null,"Desired ingredients"),r.a.createElement("h2",null,e),r.a.createElement("p",null,"out of ",this.props.wantedItemsArray.length," found")),r.a.createElement("div",{className:"summary-stats flagged",id:"stats-flagged"},r.a.createElement("h3",null,"Flagged ingredients"),r.a.createElement("h2",null,t),r.a.createElement("p",null,"out of ",this.props.flaggedItemsArray.length," flagged"),r.a.createElement("p",null,"(",a," potentially unwanted items)"))):r.a.createElement("p",null,"Summary cannot be displayed until there is an ingredients list.")))}};var g=class extends n.Component{constructor(e){super(e),this.itemFlagFormatter=(e=>{if(void 0!==this.props.flaggedItemsArray)for(let t=0;t<this.props.flaggedItemsArray.length;t++){if(e.toLowerCase()===this.props.flaggedItemsArray[t].toLowerCase())return r.a.createElement("div",{className:"ingredients flagged",style:{borderColor:"red"}},e);if(""!==this.props.flaggedItemsArray[t]&&e.toLowerCase().includes(this.props.flaggedItemsArray[t].toLowerCase()))return r.a.createElement("div",{className:"ingredients flagged",style:{borderColor:"orange"}},e)}if(void 0!==this.props.wantedItemsArray)for(let t=0;t<this.props.wantedItemsArray.length;t++)if(e.toLowerCase()===this.props.wantedItemsArray[t].toLowerCase())return r.a.createElement("div",{className:"ingredients wanted",style:{borderColor:"green"}},e);return r.a.createElement("div",{className:"ingredients",style:{borderColor:"aliceblue"}},e)}),this.state={}}render(){return r.a.createElement(r.a.Fragment,null,void 0!==this.props.inputArray&&this.props.inputArray.length>0&&r.a.createElement("div",{id:"ingredients-list"},this.props.inputArray.map(e=>this.itemFlagFormatter(e))))}},u=a(30),E=a.n(u);var v=class extends n.Component{constructor(e){super(e),this.convertStringToArray=(e=>{var t=e.replaceAll("."," ").split(","),a=[];for(let n=0;n<t.length;n++)a.push(t[n].trim());return a}),this.handleInput=(e=>{this.setState({inputString:e.target.value})}),this.handleWantedItems=(e=>{this.setState({wantedItemsString:e.target.value})}),this.handleFlaggedItems=(e=>{this.setState({flaggedItemsString:e.target.value})}),this.state={inputString:"",inputArray:[],wantedItemsString:"",wantedItemsArray:[],flaggedItemsString:"",flaggedItemsArray:[]}}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input input-wrapper",id:"input"},r.a.createElement("textarea",{id:"textarea-input",placeholder:"paste the list of ingredients here",onChange:this.handleInput})),r.a.createElement("div",{className:"input-split",id:"input-wanted"},r.a.createElement("div",{className:"input-wrapper wanted"},r.a.createElement("textarea",{className:"wanted",id:"textarea-input-wanted",placeholder:"paste wanted ingredients here",onChange:this.handleWantedItems}))),r.a.createElement("div",{className:"input-split",id:"input-flagged"},r.a.createElement("div",{className:"input-wrapper flagged"},r.a.createElement("textarea",{className:"flagged",id:"textarea-input-flagged",placeholder:"paste unwanted ingredients here",onChange:this.handleFlaggedItems}))),r.a.createElement(m.a,{variant:"contained",disableElevation:!0,startIcon:r.a.createElement(E.a,null),className:"compute-button",onClick:()=>{""!==this.state.inputString?(this.setState({inputArray:this.convertStringToArray(this.state.inputString)}),""!==this.state.wantedItemsString&&this.setState({wantedItemsArray:this.convertStringToArray(this.state.wantedItemsString)}),""!==this.state.flaggedItemsString&&this.setState({flaggedItemsArray:this.convertStringToArray(this.state.flaggedItemsString)})):alert("Remember to input an ingredients list")}},"Tag Ingredients"),r.a.createElement("div",{className:"result"},r.a.createElement("h3",null,"Product Summary:"),r.a.createElement(p,{inputArray:this.state.inputArray,flaggedItemsArray:this.state.flaggedItemsArray,wantedItemsArray:this.state.wantedItemsArray}),r.a.createElement(g,{inputArray:this.state.inputArray,flaggedItemsArray:this.state.flaggedItemsArray,wantedItemsArray:this.state.wantedItemsArray})))}};var y=class extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome to BetterLabel!"),r.a.createElement("p",null,"BetterLabel is here to help reading labels easier than before. See the FAQ section on how to use BetterLabel \ud83d\ude0a"),r.a.createElement("div",null,"BetterLabel can help you:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"tag wanted and unwanted ingredients")," from an ingredients list"),r.a.createElement("li",null,r.a.createElement("strong",null,"compare ingredients")," between 2 products"),r.a.createElement("li",null,r.a.createElement("strong",null,"find common ingredients")," between unlimited number of products")),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement("h3",null,"F.A.Q."),"Q. Is my data being sent anywhere?",r.a.createElement("br",null),"A. No. BetterLabel is a client-based website developed using ReactJS. The calculations are all made on your browser, so no data is being exchanged to any remote server.",r.a.createElement("br",null),r.a.createElement("br",null),"Q. How do I tag ingredients from a list?",r.a.createElement("br",null),"A. Simply type down the name of the ingredient to the wanted/unwanted ingredient box. To tag multiple ingredients, type down a comma-separated list. Then, copy and paste the ingredient list on the bottom text box. Ingredient names are not case-sensitive, but alternate name (e.g. water vs. aqua) may not be tagged correctly.",r.a.createElement("br",null),r.a.createElement("br",null),"Q. How do I compare ingredients between products?",r.a.createElement("br",null),"A. BetterLabel can help compare the relative rankings of ingredients between 2 products. Copy and paste a comma-separated ingredient list on each side. The product name is optional. Product's ingredients list are ordered by predominance by weight, meaning there is a geater amount of the ingredient that appears earlier in the list compared to one that appears later. Note that the ingredients are listed relative to each oither in that specific product only.",r.a.createElement("br",null),r.a.createElement("br",null),"Q. How do I find common ingredients from multiple products?",r.a.createElement("br",null),"A. Input the item name and ingredient list and click the button to add that particular item to the pool of items. Each item will be represented by its name. As more items are added, a cumulative list of ingredients will appear at the bottom in descending order of frequency.",r.a.createElement("br",null)))}},I=a(60),f=a.n(I),w=a(106),b=a(59),A=a.n(b);var C=class extends n.Component{constructor(e){super(e),this.findCommonIngredients=(()=>{var e=new Map;this.state.items.forEach(t=>{t.ingredients.forEach(a=>{if(e.has(a)){var n=e.get(a);n.push(t.name),e.set(a,n)}else e.set(a,[t.name])})});const t=new Map([...e.entries()].sort((e,t)=>t[1].length-e[1].length));console.log(t),this.setState({ingredientsMap:t}),this.state.ingredientsMap.forEach(e=>console.log(this.state.ingredientsMap.get(e.key)))}),this.convertStringToArray=(e=>{var t=e.replaceAll("."," ").split(","),a=[];for(let n=0;n<t.length;n++)a.push(t[n].trim());return a}),this.commonIngredientsFormatter=(e=>{const t=[255,255,255],a=[31,147,213];var n=[a[0]-t[0],a[1]-t[1],a[2]-t[2]],i=100/this.state.items.length,s=this.state.ingredientsMap.get(e).length,l=n[0]>0?Math.round(n[0]/100*(i*(s-1))):Math.round(t[0]+n[0]/100*(i*(s-1))),o=n[1]>0?Math.round(n[1]/100*(i*(s-1))):Math.round(t[1]+n[1]/100*(i*(s-1))),m=n[2]>0?Math.round(n[2]/100*(i*(s-1))):Math.round(t[2]+n[2]/100*(i*(s-1)));console.log(l+"-"+o+"-"+m);var d="rgb("+l+","+o+","+m+")";return r.a.createElement("div",{className:"ingredients commontooltip",style:{borderColor:"aliceblue",backgroundColor:d,width:"30em"},title:s+" source item(s): "+this.state.ingredientsMap.get(e).join(", ")},e)}),this.addItem=(()=>{if(""!==this.state.inputName&&""!==this.state.input){const e={name:this.state.inputName,ingredients:this.convertStringToArray(this.state.input)};document.getElementById("commoningredients-name").value="",document.getElementById("commoningredients-input").value="",this.setState(t=>({items:[...t.items,e],input:"",inputName:""}),()=>{this.findCommonIngredients()})}else alert("Please input name AND ingredients list to add item")}),this.deleteItem=(e=>{var t=e.currentTarget.value;const a=this.state.items.filter(e=>e.name!==t);this.setState({items:a},()=>{this.findCommonIngredients()})}),this.handleInput=(e=>{this.setState({input:e.target.value})}),this.handleInputName=(e=>{this.setState({inputName:e.target.value})}),this.displayItem=(e=>r.a.createElement("div",{key:e.name,className:"commonIngredientItem"},r.a.createElement("div",{style:{display:"inline-block",width:"90%",overflowWrap:"break-word",verticalAlign:"top"}},e.name),r.a.createElement("div",{style:{display:"inline-block",width:"10%"}},r.a.createElement(w.a,{"aria-label":"delete",value:e.name,onClick:this.deleteItem},r.a.createElement(A.a,null))))),this.state={items:[],ingredientsMap:new Map,input:"",inputName:""}}render(){let e=Array.from(this.state.ingredientsMap.keys());return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,this.state.items.map(e=>this.displayItem(e))),r.a.createElement("div",null,r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{id:"commoningredients-name",placeholder:"item name",onChange:this.handleInputName})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("textarea",{id:"commoningredients-input",placeholder:"place list of ingredients",onChange:this.handleInput})),r.a.createElement(m.a,{variant:"contained",disableElevation:!0,startIcon:r.a.createElement(f.a,null),className:"compute-button",onClick:this.addItem},"Add this item")),r.a.createElement("div",{className:"result"},r.a.createElement("h3",null,"Common ingredients in descending order:"),0!==this.state.items.length?r.a.createElement("p",null,"hover on each ingredient to see source item(s)"):r.a.createElement("p",null,r.a.createElement("i",null,"no ingredients to display")),0!==this.state.ingredientsMap.length&&e.map(e=>this.commonIngredientsFormatter(e))))}},S=a(61),N=a.n(S),L=a(62),M=a.n(L),k=a(63),F=a.n(k);var T=class extends n.Component{constructor(){super(),this.pageDisplayReset=(()=>{this.setState({pageAbout:!1,pageTag:!1,pageMatch:!1,pageCommon:!1})}),this.state={pageAbout:!0,pageTag:!1,pageMatch:!1,pageCommon:!1}}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"BetterLabel")),r.a.createElement("div",{id:"navigation"},r.a.createElement(m.a,{variant:"outlined",disableElevation:!0,startIcon:r.a.createElement(N.a,null),disabled:this.state.pageAbout,onClick:()=>{this.pageDisplayReset(),this.setState({pageAbout:!0})}},"About"),r.a.createElement(m.a,{variant:"outlined",disableElevation:!0,startIcon:r.a.createElement(E.a,null),disabled:this.state.pageTag,onClick:()=>{this.pageDisplayReset(),this.setState({pageTag:!0})}},"Tag Ingredients"),r.a.createElement(m.a,{variant:"outlined",disableElevation:!0,startIcon:r.a.createElement(M.a,null),disabled:this.state.pageMatch,onClick:()=>{this.pageDisplayReset(),this.setState({pageMatch:!0})}},"Compare Products"),r.a.createElement(m.a,{variant:"outlined",disableElevation:!0,startIcon:r.a.createElement(F.a,null),disabled:this.state.pageCommon,onClick:()=>{this.pageDisplayReset(),this.setState({pageCommon:!0})}},"Find Common Ingredients")),r.a.createElement("div",{id:"content"},this.state.pageAbout&&r.a.createElement(y,null),this.state.pageTag&&r.a.createElement(v,null),this.state.pageMatch&&r.a.createElement(h,null),this.state.pageCommon&&r.a.createElement(C,null)))}};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.2d116920.chunk.js.map